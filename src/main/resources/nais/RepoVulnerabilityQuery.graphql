query ($teamsCursor: Cursor, $vulnCursor: Cursor, $workloadCursor: Cursor) {
  teams(first: 20, after: $teamsCursor, filter: {hasWorkloads:true}) {
    pageInfo {
      hasNextPage
      startCursor
      endCursor
    }
    nodes {
      workloads(first: 100, after: $workloadCursor) {
        pageInfo {
          hasNextPage
          startCursor
          endCursor
        }
        nodes {
          __typename
          ... on Application {
            deployments(first: 1) {
              nodes {
                repository
              }
            }
            name
            image {
              vulnerabilities(first: 100, after: $vulnCursor) {
                pageInfo {
                  hasNextPage
                  endCursor
                }
                nodes {
                  identifier
                  severity
                  suppression {
                    state
                  }
                }
              }
            }
          }
          ... on Job {
            deployments(first: 1) {
              nodes {
                repository
              }
            }
            name
            image {
              vulnerabilities(first: 100, after: $vulnCursor) {
                pageInfo {
                  hasNextPage
                  endCursor
                }
                nodes {
                  identifier
                  severity
                  suppression {
                    state
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}